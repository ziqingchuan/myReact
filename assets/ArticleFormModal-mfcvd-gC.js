import{j as e}from"./markdown-vendor-C07DKSYQ.js";import{C as r,L as a}from"./LoadingSpinner-DxgYNAUh.js";import{X as t}from"./icons-vendor-DDK1Nreh.js";import"./react-vendor-D-XgqoRR.js";function s({checked:r,onChange:a,label:t,description:s}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),s&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s})]}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:`\n          relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none\n          ${r?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}\n        `,children:e.jsx("span",{className:`\n            inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n            ${r?"translate-x-6":"translate-x-1"}\n          `})})]})}function o({isOpen:o,editingArticle:d,formData:n,directories:l,formLoading:i,onClose:c,onSubmit:g,onFormDataChange:b,getDirectoryOptions:x}){return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto transition-colors custom-scrollbar",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:d?"编辑文章":"新建文章"}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-gray-600 dark:text-gray-400 transition-colors",children:e.jsx(t,{size:20})})]}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"文章标题 *"}),e.jsx("input",{type:"text",value:n.title,onChange:e=>b({...n,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-gray-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"所属目录"}),e.jsx(r,{value:n.directory_id,onChange:e=>b({...n,directory_id:e}),options:[{value:"",label:"选择目录"},...x(l)],placeholder:"选择目录"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"文章内容 (Markdown) *"}),e.jsx("textarea",{value:n.content,onChange:e=>b({...n,content:e.target.value}),rows:12,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-gray-500 dark:focus:ring-blue-500 focus:border-transparent font-mono text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 custom-scrollbar",placeholder:"使用 Markdown 格式编写文章内容...",required:!0})]}),e.jsx("div",{className:"py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx(s,{checked:n.is_published,onChange:e=>b({...n,is_published:e}),label:"立即发布",description:"开启后文章将在网站上可见，关闭则仅保存到数据库"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:c,disabled:i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"取消"}),e.jsxs("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-gray-900 dark:bg-blue-600 text-white rounded-md hover:bg-gray-800 dark:hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[i&&e.jsx(a,{size:"sm"}),e.jsx("span",{children:d?"更新":"创建"})]})]})]})]})}):null}export{o as default};
