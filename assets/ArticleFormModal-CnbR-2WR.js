import{j as e}from"./markdown-vendor-C3Boe-Qz.js";import{C as a,L as s}from"./LoadingSpinner-Cfmj2jay.js";import"./index-DhQz_00T.js";import{X as l}from"./icons-vendor-DGNJtJjD.js";import"./react-vendor-D-XgqoRR.js";import"./supabase-vendor-BaswEe3z.js";function o({checked:a,onChange:s,label:l,description:o,isDark:r=!1}){return e.jsxs("div",{className:"toggle-switch "+(r?"dark":""),children:[e.jsxs("div",{className:"toggle-switch-label",children:[e.jsx("label",{className:"toggle-switch-label-text",children:l}),o&&e.jsx("p",{className:"toggle-switch-description",children:o})]}),e.jsx("button",{type:"button",onClick:()=>s(!a),className:"toggle-switch-btn "+(a?"checked":""),children:e.jsx("span",{className:"toggle-switch-indicator"})})]})}function r({isOpen:r,editingArticle:i,formData:d,directories:n,formLoading:t,onClose:c,onSubmit:m,onFormDataChange:h,getDirectoryOptions:j,isDark:x=!1}){return r?e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal large custom-scrollbar "+(x?"dark":""),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:i?"编辑文章":"新建文章"}),e.jsx("button",{onClick:c,className:"modal-close-btn",children:e.jsx(l,{size:20})})]}),e.jsxs("form",{onSubmit:m,className:"modal-form",children:[e.jsxs("div",{className:"modal-form-group",children:[e.jsx("label",{className:"modal-form-label",children:"文章标题 *"}),e.jsx("input",{type:"text",value:d.title,onChange:e=>h({...d,title:e.target.value}),className:"modal-form-input "+(x?"dark":""),required:!0})]}),e.jsxs("div",{className:"modal-form-group",children:[e.jsx("label",{className:"modal-form-label",children:"所属目录"}),e.jsx(a,{value:d.directory_id,onChange:e=>h({...d,directory_id:e}),options:[{value:"",label:"选择目录"},...j(n)],placeholder:"选择目录",isDark:x})]}),e.jsxs("div",{className:"modal-form-group",children:[e.jsx("label",{className:"modal-form-label",children:"文章内容 (Markdown) *"}),e.jsx("textarea",{value:d.content,onChange:e=>h({...d,content:e.target.value}),rows:20,className:"modal-form-textarea "+(x?"dark":""),placeholder:"使用 Markdown 格式编写文章内容...",required:!0})]}),e.jsx("div",{className:"modal-divider",children:e.jsx(o,{checked:d.is_published,onChange:e=>h({...d,is_published:e}),label:"立即发布",description:"开启后文章将在网站上可见，关闭则仅保存到数据库",isDark:x})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:c,disabled:t,className:"modal-btn modal-btn-secondary "+(x?"dark":""),children:"取消"}),e.jsx("button",{type:"submit",disabled:t,className:"modal-btn modal-btn-primary "+(x?"dark":""),children:e.jsxs("span",{className:"modal-btn-content",children:[t&&e.jsx(s,{size:"sm"}),e.jsx("span",{children:i?"更新":"创建"})]})})]})]})]})}):null}export{r as default};
